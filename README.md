# kkcode

[![npm version](https://img.shields.io/npm/v/@kkelly-offical/kkcode)](https://www.npmjs.com/package/@kkelly-offical/kkcode)
![Node](https://img.shields.io/badge/Node.js-%3E%3D22-green)
![License](https://img.shields.io/badge/License-GPL--3.0-blue)
![Platform](https://img.shields.io/badge/Platform-Windows%20%7C%20macOS%20%7C%20Linux-lightgrey)

é¢å‘å›¢é˜Ÿåä½œçš„ç»ˆç«¯ AI Coding Agentï¼šå…¼é¡¾ **å¯æ‰§è¡Œ**ï¼ˆå·¥å…·é“¾ + å­ä»»åŠ¡ï¼‰ã€**å¯æ²»ç†**ï¼ˆæƒé™ / å®¡è®¡ / é¢„ç®—ï¼‰ã€**å¯é•¿è·‘**ï¼ˆLongAgent é˜¶æ®µå¹¶è¡Œç¼–æ’ï¼‰ã€‚

---

## ç›®å½•

- [kkcode](#kkcode)
  - [ç›®å½•](#ç›®å½•)
  - [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
    - [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
    - [å®‰è£…ä¸è¿è¡Œ](#å®‰è£…ä¸è¿è¡Œ)
    - [åˆå§‹åŒ–é¡¹ç›®é…ç½®](#åˆå§‹åŒ–é¡¹ç›®é…ç½®)
  - [æ¨¡å¼ç³»ç»Ÿ](#æ¨¡å¼ç³»ç»Ÿ)
  - [LongAgent ç¼–æ’](#longagent-ç¼–æ’)
    - [ä¸»æµç¨‹](#ä¸»æµç¨‹)
    - [å¹¶è¡Œä¸ä¸€è‡´æ€§](#å¹¶è¡Œä¸ä¸€è‡´æ€§)
  - [ä¸»åŠ¨è§„åˆ’](#ä¸»åŠ¨è§„åˆ’)
  - [æƒé™ç³»ç»Ÿ](#æƒé™ç³»ç»Ÿ)
  - [å†…ç½®å·¥å…·](#å†…ç½®å·¥å…·)
  - [å­æ™ºèƒ½ä½“](#å­æ™ºèƒ½ä½“)
  - [Auto Memory](#auto-memory)
  - [MCP æ¥å…¥](#mcp-æ¥å…¥)
  - [GitHub é›†æˆ](#github-é›†æˆ)
    - [ç™»å½• GitHub](#ç™»å½•-github)
    - [ç™»å‡º GitHub](#ç™»å‡º-github)
    - [å·¥ä½œæµç¨‹](#å·¥ä½œæµç¨‹)
    - [å®Œæˆå·¥ä½œåæ¨é€](#å®Œæˆå·¥ä½œåæ¨é€)
  - [æ‰©å±•æœºåˆ¶](#æ‰©å±•æœºåˆ¶)
  - [ä¼šè¯ä¸å®¡è®¡](#ä¼šè¯ä¸å®¡è®¡)
  - [TUI äº¤äº’](#tui-äº¤äº’)
    - [çŠ¶æ€æ ](#çŠ¶æ€æ )
    - [å¿«æ·é”®](#å¿«æ·é”®)
    - [å¸¸ç”¨ Slash å‘½ä»¤](#å¸¸ç”¨-slash-å‘½ä»¤)
  - [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
  - [é…ç½®ç¤ºä¾‹](#é…ç½®ç¤ºä¾‹)
  - [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
  - [è‡´è°¢](#è‡´è°¢)
  - [License](#license)

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js `>=22`
- npm / pnpm
- å»ºè®®ç»ˆç«¯ï¼šWindows Terminalã€iTerm2 æˆ–ç°ä»£ Linux terminal

### å®‰è£…ä¸è¿è¡Œ

**ä» npm å®‰è£…ï¼ˆæ¨èï¼‰ï¼š**

```bash
npm install -g @kkelly-offical/kkcode
kkcode
```

**ä»æºç è¿è¡Œï¼ˆå¼€å‘ç”¨ï¼‰ï¼š**

```bash
git clone https://github.com/kkelly-offical/kkcode.git
cd kkcode
npm install
npm run start
```

### åˆå§‹åŒ–é¡¹ç›®é…ç½®

```bash
kkcode init -y
```

é…ç½®æ–‡ä»¶æŒ‰ä¼˜å…ˆçº§è‡ªåŠ¨æŸ¥æ‰¾ï¼š

- ç”¨æˆ·çº§ï¼š`~/.kkcode/config.yaml`
- é¡¹ç›®çº§ï¼š`./kkcode.config.yaml` æˆ– `./.kkcode/config.yaml`

---

## æ¨¡å¼ç³»ç»Ÿ

| æ¨¡å¼ | ç›®æ ‡ | å·¥å…·æƒé™ | å…¸å‹åœºæ™¯ |
|---|---|---|---|
| `ask` | é—®ç­” / è§£é‡Š | åªè¯» | ç†è§£ä»£ç ã€è§£é‡ŠæŠ¥é”™ |
| `plan` | æ–¹æ¡ˆæ‹†è§£ | åªè¯» | å…ˆå‡ºæ‰§è¡Œè®¡åˆ’ |
| `agent` | å•è½®æ‰§è¡Œ | å…¨å·¥å…· | å¿«é€Ÿæ”¹ä»£ç  + è¿è¡Œå‘½ä»¤ |
| `longagent` | é•¿ç¨‹ç¼–æ’ | å…¨å·¥å…· + è°ƒåº¦ | è·¨æ–‡ä»¶ / å¤šé˜¶æ®µä»»åŠ¡ |

TUI ä¸­æŒ‰ `Tab` ä¸€é”®è½®æ¢æ¨¡å¼ã€‚

---

## LongAgent ç¼–æ’

LongAgent æ˜¯ kkcode çš„æ ¸å¿ƒå·®å¼‚èƒ½åŠ›ï¼Œæ”¯æŒ"æ„å›¾è¯†åˆ« + é˜¶æ®µå¹¶è¡Œ + é—¨ç¦é—­ç¯"ã€‚

### ä¸»æµç¨‹

1. **æ„å›¾è¯†åˆ«** â€” éç¼–ç ç›®æ ‡ç›´æ¥é˜»æ–­ï¼Œé¿å…ç©ºè½¬
2. **Intake** â€” å¤šè½®æ¾„æ¸…å¹¶ç”Ÿæˆæ‘˜è¦
3. **Plan Frozen** â€” å†»ç»“é˜¶æ®µè®¡åˆ’ï¼ˆStagePlanï¼‰
4. **Stage Barrier** â€” åŒé˜¶æ®µä»»åŠ¡å¹¶å‘æ‰§è¡Œï¼Œå…¨éƒ¨ç»ˆæ€åæ¨è¿›
5. **Recovery** â€” å¤±è´¥ä»»åŠ¡é‡è¯•ï¼Œä¼˜å…ˆç»­å†™ remaining files
6. **Usability Gates** â€” build / test / review / health / budget å…¨é‡æ ¡éªŒ
7. **å®Œæˆåˆ¤å®š** â€” é—¨ç¦é€šè¿‡ + å®Œæˆæ ‡è®°

### å¹¶è¡Œä¸ä¸€è‡´æ€§

- åŒé˜¶æ®µå¹¶å‘ç”± `max_concurrency` æ§åˆ¶
- å­ä»»åŠ¡ç”±åå° worker æ‰¿è½½ï¼Œä¸»ä¼šè¯ç­‰å¾… barrier
- å†™å…¥å·¥å…·æ”¯æŒ file lockï¼Œé¿å…å¹¶å‘å†²çª
- TUI å®æ—¶æ˜¾ç¤ºé˜¶æ®µçŠ¶æ€ã€è¿›åº¦æ¡ä¸æ–‡ä»¶å˜åŠ¨æ‘˜è¦

---

## ä¸»åŠ¨è§„åˆ’

Agent åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯**ä¸»åŠ¨è¿›å…¥è§„åˆ’æ¨¡å¼**ï¼Œæ— éœ€ç”¨æˆ·æ‰‹åŠ¨åˆ‡æ¢ã€‚

1. Agent é‡åˆ°å¤æ‚ä»»åŠ¡æ—¶è°ƒç”¨ `enter_plan`
2. åœ¨è§„åˆ’æ¨¡å¼ä¸‹åˆ†æä»£ç ã€è®¾è®¡æ–¹æ¡ˆï¼ˆç†è§£ â†’ è®¾è®¡ â†’ å®¡æŸ¥ â†’ æœ€ç»ˆè®¡åˆ’ï¼‰
3. è°ƒç”¨ `exit_plan` æäº¤è®¡åˆ’ï¼ŒTUI å¼¹å‡ºå®¡æ‰¹é¢æ¿
4. ç”¨æˆ· **Approve** æˆ– **Reject**ï¼ˆå¯é™„åé¦ˆï¼‰
5. æ‰¹å‡†åæŒ‰è®¡åˆ’æ‰§è¡Œï¼Œé©³å›åˆ™ä¿®è®¢

---

## æƒé™ç³»ç»Ÿ

é‡‡ç”¨ **ç­–ç•¥ + äº¤äº’å®¡æ‰¹ + ä¼šè¯ç¼“å­˜æˆæƒ** ç»„åˆæ¨¡å‹ã€‚

- `permission.default_policy`: `ask | allow | deny`
- `permission.rules[]`: æŒ‰å·¥å…· / æ¨¡å¼ / å‘½ä»¤å‰ç¼€åŒ¹é…ç»†ç²’åº¦è§„åˆ™
- å®¡æ‰¹ä¸€æ¬¡ååŒä¼šè¯å†…åŒç±»æ“ä½œè‡ªåŠ¨æ”¾è¡Œ

TUI å®¡æ‰¹é¢æ¿ï¼š`1` allow once / `2` allow session / `3` deny / `Esc` deny

---

## å†…ç½®å·¥å…·

| å·¥å…· | è¯´æ˜ |
|------|------|
| `read` | è¯»å–æ–‡ä»¶å†…å®¹ï¼ˆæ”¯æŒ offset/limit åˆ†é¡µï¼‰ |
| `write` | åŸå­å†™æ–‡ä»¶ï¼ˆæ”¯æŒ overwrite / append / insert æ¨¡å¼ï¼‰ |
| `edit` | äº‹åŠ¡æ€§å­—ç¬¦ä¸²æ›¿æ¢ + è‡ªåŠ¨å›æ»š |
| `patch` | æŒ‰è¡Œå·èŒƒå›´æ›¿æ¢æ–‡ä»¶å†…å®¹ |
| `glob` | æŒ‰æ¨¡å¼æœç´¢æ–‡ä»¶ |
| `grep` | æŒ‰æ­£åˆ™æœç´¢æ–‡ä»¶å†…å®¹ï¼ˆæ”¯æŒè¡Œå·ã€åˆ†é¡µï¼‰ |
| `bash` | æ‰§è¡Œ shell å‘½ä»¤ |
| `task` | å§”æ´¾å­æ™ºèƒ½ä½“æ‰§è¡Œå­ä»»åŠ¡ |
| `todowrite` | ç»“æ„åŒ–ä»»åŠ¡ç®¡ç† |
| `question` | å‘ç”¨æˆ·æé—® |
| `enter_plan` | ä¸»åŠ¨è¿›å…¥è§„åˆ’æ¨¡å¼ |
| `exit_plan` | æäº¤è®¡åˆ’ç­‰å¾…å®¡æ‰¹ |
| `webfetch` | æŠ“å–ç½‘é¡µå†…å®¹ |
| `websearch` | Web æœç´¢ |
| `codesearch` | ä»£ç æœç´¢å¼•æ“ |

å†™å…¥å®‰å…¨ç‰¹æ€§ï¼šåŸå­å†™ã€äº‹åŠ¡å›æ»šã€å¤–éƒ¨ä¿®æ”¹æ£€æµ‹ã€è¯»å‰ç¼–è¾‘çº¦æŸã€file lock ä¸²è¡ŒåŒ–ã€‚

---

## å­æ™ºèƒ½ä½“

é€šè¿‡ `task` å·¥å…·å§”æ´¾ä¸“é¡¹å­æ™ºèƒ½ä½“ï¼š

| ç±»å‹ | è¯´æ˜ | æƒé™ |
|------|------|------|
| `build` | é€šç”¨æ„å»ºæ‰§è¡Œ | å…¨å·¥å…· |
| `explore` | å¿«é€Ÿä»£ç æ¢ç´¢ | åªè¯» |
| `reviewer` | ä»£ç å®¡æŸ¥ï¼ˆbug / å®‰å…¨ / è´¨é‡ï¼‰ | åªè¯» |
| `researcher` | æ·±åº¦ç ”ç©¶ + Web æœç´¢ | åªè¯» + ç½‘ç»œ |

æ”¯æŒé€šè¿‡ YAML/MJS è‡ªå®šä¹‰å­æ™ºèƒ½ä½“ï¼Œæˆ– `/create-agent` è‡ªåŠ¨ç”Ÿæˆã€‚

---

## Auto Memory

ä¸ºæ¯ä¸ªé¡¹ç›®ç»´æŠ¤ç‹¬ç«‹æŒä¹…è®°å¿†ï¼Œè·¨ä¼šè¯ä¿å­˜é¡¹ç›®çŸ¥è¯†ã€‚

- å­˜å‚¨ä½ç½®ï¼š`~/.kkcode/projects/<é¡¹ç›®å>_<hash>/memory/MEMORY.md`
- æ¯æ¬¡ä¼šè¯å¯åŠ¨æ—¶è‡ªåŠ¨æ³¨å…¥ç³»ç»Ÿæç¤ºè¯ï¼ˆé™ 200 è¡Œï¼‰
- Agent å¯ç›´æ¥è¯»å†™è®°å¿†æ–‡ä»¶
- çŠ¶æ€æ æ˜¾ç¤º `MEM` å¾½ç« è¡¨ç¤ºå·²åŠ è½½

---

## MCP æ¥å…¥

æ”¯æŒä¸‰ç§ä¼ è¾“åè®®ï¼š

| ä¼ è¾“ | é€‚ç”¨åœºæ™¯ | å…³é”®å­—æ®µ |
|------|----------|----------|
| `stdio` | æœ¬åœ°å­è¿›ç¨‹ | `command`, `args` |
| `sse` | è¿œç¨‹ Streamable HTTP | `url`, `headers` |
| `http` | REST é£æ ¼ | `url`, `headers` |

è‡ªåŠ¨å‘ç°ï¼šåˆå¹¶ `.mcp.json`ã€`.kkcode/mcp.json`ã€`~/.kkcode/mcp.json` ä¸­çš„é…ç½®ã€‚

```bash
kkcode mcp test          # å¥åº·çŠ¶æ€
kkcode mcp tools         # å¯ç”¨å·¥å…·åˆ—è¡¨
```

---

## GitHub é›†æˆ

é€šè¿‡ GitHub Device Flow å®ç°å®‰å…¨çš„ä»“åº“è®¿é—®ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½® Tokenã€‚

### ç™»å½• GitHub

```bash
kkcode --github
```

æ‰§è¡Œåï¼š
1. **è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨** â€” å¼¹çª—æˆæƒé¡µé¢
2. **è‡ªåŠ¨å¤åˆ¶éªŒè¯ç ** â€” å‰ªè´´æ¿å·²å¡«å……è®¾å¤‡ç ï¼Œç›´æ¥ç²˜è´´å³å¯
3. **è‡ªåŠ¨è½®è¯¢æˆæƒçŠ¶æ€** â€” æ— éœ€æ‰‹åŠ¨æ“ä½œï¼Œç­‰å¾…å®Œæˆ
4. **å¢å¼ºç½‘ç»œå®¹é”™** â€” æ”¯æŒä¸ç¨³å®šç½‘ç»œç¯å¢ƒï¼Œè‡ªåŠ¨é‡è¯•

### ç™»å‡º GitHub

```bash
kkcode --github logout
```

æ¸…é™¤æœ¬åœ°å­˜å‚¨çš„ GitHub Tokenã€‚

### å·¥ä½œæµç¨‹

```bash
kkcode --github                    # å¯åŠ¨ GitHub ç™»å½•æµç¨‹
# é€‰æ‹©ä»“åº“ â†’ é€‰æ‹©åˆ†æ”¯ â†’ é€‰æ‹©æœ¬åœ°/äº‘ç«¯æ“ä½œæ¨¡å¼
# è¿›å…¥ REPL å¼€å§‹ç¼–ç 
# é€€å‡º REPL åè‡ªåŠ¨è¯¢é—®æ˜¯å¦æ¨é€æ›´æ”¹åˆ°äº‘ç«¯
```

**æœ¬åœ°/äº‘ç«¯æ“ä½œé€‰é¡¹ï¼š**

| é€‰é¡¹ | è¯´æ˜ |
|------|------|
| **ä½¿ç”¨æœ¬åœ°ä»“åº“** | ç›´æ¥ä½¿ç”¨æœ¬åœ°å·²æœ‰ä»£ç ï¼Œä¸æ‹‰å–æ›´æ–° |
| **åŒæ­¥äº‘ç«¯ä»£ç ** | æ‰§è¡Œ `git pull` æ‹‰å–æœ€æ–°ä»£ç  |
| **å¼ºåˆ¶é‡æ–°å…‹éš†** | åˆ é™¤æœ¬åœ°ä»“åº“ï¼Œé‡æ–°å®Œæ•´å…‹éš† |

### å®Œæˆå·¥ä½œåæ¨é€

é€€å‡º REPL æ—¶è‡ªåŠ¨è¯¢é—®æ˜¯å¦æ¨é€æ›´æ”¹ï¼š

```
ğŸš€ æ£€æµ‹åˆ°æœ¬åœ°æ›´æ”¹ï¼Œæ˜¯å¦æ¨é€è‡³äº‘ç«¯ï¼Ÿ(y/N)
```

---

## æ‰©å±•æœºåˆ¶

| æ‰©å±•ç±»å‹ | ç›®å½• | è¯´æ˜ |
|----------|------|------|
| å‘½ä»¤æ¨¡æ¿ | `.kkcode/commands/` | Markdown æ¨¡æ¿ï¼Œæ”¯æŒå˜é‡æ›¿æ¢ |
| æŠ€èƒ½ | `.kkcode/skills/` | å¯ç¼–ç¨‹æŠ€èƒ½ï¼Œ`/create-skill` ç”Ÿæˆ |
| å­æ™ºèƒ½ä½“ | `.kkcode/agents/` | YAML/MJS å®šä¹‰ï¼Œ`/create-agent` ç”Ÿæˆ |
| è‡ªå®šä¹‰å·¥å…· | `.kkcode/tools/` | .mjs è‡ªåŠ¨åŠ è½½ï¼Œ`/reload` çƒ­æ›´æ–° |
| æ’ä»¶/Hook | `.kkcode/plugins/` | Hook äº‹ä»¶è„šæœ¬ |
| è§„åˆ™ | `.kkcode/rules/` | é¡¹ç›®çº§æç¤ºè¯è§„åˆ™ |
| æŒ‡ä»¤æ–‡ä»¶ | `KKCODE.md` | é¡¹ç›®çº§æŒ‡ä»¤ï¼Œè‡ªåŠ¨æ³¨å…¥æç¤ºè¯ |

---

## ä¼šè¯ä¸å®¡è®¡

- ä¼šè¯å­˜å‚¨ï¼š`~/.kkcode/sessions/`
- å®¡è®¡æ—¥å¿—ï¼š`~/.kkcode/audit-log.json`
- äº‹ä»¶æ—¥å¿—ï¼š`~/.kkcode/events.log`
- ä¸‰å±‚ç”¨é‡è¿½è¸ªï¼šturn / session / global
- é¢„ç®—ç­–ç•¥ï¼š`warn | block`

```bash
kkcode doctor --json         # å®Œæ•´è¯Šæ–­
kkcode session list          # ä¼šè¯åˆ—è¡¨
kkcode session fsck          # ä¸€è‡´æ€§æ£€æŸ¥
kkcode session gc            # è¿‡æœŸæ¸…ç†
kkcode usage show            # ç”¨é‡ç»Ÿè®¡
kkcode longagent status      # LongAgent çŠ¶æ€
```

---

## TUI äº¤äº’

### çŠ¶æ€æ 

åº•éƒ¨å®æ—¶æ˜¾ç¤ºï¼š`MODE` `MODEL` `TOKENS` `COST` `CONTEXT` `MEM` `PERMISSION` `LONG`

- **CONTEXT** 85%+ çº¢è‰²å‘Šè­¦
- **COST** å«ç¼“å­˜èŠ‚çœé¢ï¼ˆå¦‚ `â†“$0.03`ï¼‰

### å¿«æ·é”®

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `Enter` | å‘é€ |
| `Ctrl+J` | æ¢è¡Œ |
| `Tab` | æ¨¡å¼è½®æ¢ |
| `/paste` | ç²˜è´´å‰ªè´´æ¿å›¾ç‰‡ |
| `Ctrl+Up/Down` | æ»šåŠ¨æ—¥å¿—åŒº |
| `Ctrl+Home/End` | è·³è½¬æ—¥å¿—é¦–å°¾ |
| `Up/Down` | è¾“å…¥å†å² |
| `Esc` | æ¸…ç©ºè¾“å…¥ |
| `Ctrl+L` | æ¸…ç©ºæ´»åŠ¨åŒº |
| `Ctrl+C` | é€€å‡º |

æ”¯æŒ `@å›¾ç‰‡è·¯å¾„` æˆ– `@å›¾ç‰‡URL` å¼•ç”¨å¤šæ¨¡æ€è¾“å…¥ã€‚

### å¸¸ç”¨ Slash å‘½ä»¤

`/help` `/status` `/history` `/new` `/resume` `/mode` `/provider` `/model` `/permission` `/paste` `/commands` `/reload` `/clear` `/exit`

---

## é¡¹ç›®ç»“æ„

```
kkcode/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.mjs              # CLI å…¥å£
â”‚   â”œâ”€â”€ repl.mjs               # TUI ä¸»å¾ªç¯ï¼ˆè¾“å…¥/æ¸²æŸ“/é”®ç›˜å¤„ç†ï¼‰
â”‚   â”œâ”€â”€ runtime.mjs            # è¿è¡Œæ—¶åˆå§‹åŒ–
â”‚   â”œâ”€â”€ context.mjs            # å…¨å±€ä¸Šä¸‹æ–‡æ„å»º
â”‚   â”œâ”€â”€ core/                  # æ ¸å¿ƒç±»å‹ã€å¸¸é‡ã€äº‹ä»¶æ€»çº¿
â”‚   â”œâ”€â”€ config/                # é…ç½®åŠ è½½ã€Schema æ ¡éªŒã€é»˜è®¤å€¼
â”‚   â”œâ”€â”€ session/               # ä¼šè¯å¼•æ“ã€æ¶ˆæ¯å¾ªç¯ã€ç³»ç»Ÿæç¤ºè¯
â”‚   â”‚   â”œâ”€â”€ loop.mjs           # Agent ä¸»å¾ªç¯ï¼ˆæµå¼å¤„ç†/è‡ªåŠ¨ç»­å†™ï¼‰
â”‚   â”‚   â”œâ”€â”€ engine.mjs         # ä¼šè¯å¼•æ“
â”‚   â”‚   â”œâ”€â”€ longagent.mjs      # LongAgent ç¼–æ’è°ƒåº¦
â”‚   â”‚   â”œâ”€â”€ longagent-plan.mjs # é˜¶æ®µè®¡åˆ’ç”Ÿæˆä¸å†»ç»“
â”‚   â”‚   â”œâ”€â”€ compaction.mjs     # ä¸Šä¸‹æ–‡å‹ç¼©
â”‚   â”‚   â”œâ”€â”€ instinct-manager.mjs # Instinct è‡ªåŠ¨å­¦ä¹ 
â”‚   â”‚   â””â”€â”€ prompt/            # å„ Provider ç³»ç»Ÿæç¤ºè¯æ¨¡æ¿
â”‚   â”œâ”€â”€ tool/                  # å·¥å…·æ³¨å†Œã€æ‰§è¡Œã€äº‹åŠ¡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ registry.mjs       # å†…ç½®å·¥å…·å®šä¹‰ï¼ˆread/write/edit/patch/...ï¼‰
â”‚   â”‚   â”œâ”€â”€ edit-transaction.mjs # ç¼–è¾‘äº‹åŠ¡ä¸åŸå­å†™å…¥
â”‚   â”‚   â”œâ”€â”€ task-tool.mjs      # task å­ä»»åŠ¡å§”æ´¾
â”‚   â”‚   â”œâ”€â”€ image-util.mjs     # å›¾ç‰‡å¤„ç†ä¸å‰ªè´´æ¿è¯»å–
â”‚   â”‚   â””â”€â”€ prompt/            # å·¥å…·ä½¿ç”¨æç¤ºè¯
â”‚   â”œâ”€â”€ agent/                 # å­æ™ºèƒ½ä½“ï¼ˆexplore/reviewer/researcherï¼‰
â”‚   â”œâ”€â”€ provider/              # å¤š Provider é€‚é…ï¼ˆAnthropic/OpenAI/Ollama/...ï¼‰
â”‚   â”œâ”€â”€ permission/            # æƒé™å¼•æ“ä¸å·¥ä½œåŒºä¿¡ä»»
â”‚   â”œâ”€â”€ mcp/                   # MCP å®¢æˆ·ç«¯ï¼ˆstdio/sse/httpï¼‰
â”‚   â”œâ”€â”€ skill/                 # æŠ€èƒ½æ³¨å†Œä¸ç”Ÿæˆ
â”‚   â”œâ”€â”€ command/               # è‡ªå®šä¹‰å‘½ä»¤åŠ è½½
â”‚   â”œâ”€â”€ commands/              # CLI å­å‘½ä»¤ï¼ˆdoctor/init/theme/...ï¼‰
â”‚   â”œâ”€â”€ orchestration/         # åå°ä»»åŠ¡ç®¡ç†ä¸å¹¶è¡Œ worker
â”‚   â”œâ”€â”€ plugin/                # Hook äº‹ä»¶æ€»çº¿
â”‚   â”œâ”€â”€ ui/                    # Dashboard æ¸²æŸ“ã€æ´»åŠ¨æ—¥å¿—
â”‚   â”œâ”€â”€ theme/                 # ä¸»é¢˜ç³»ç»Ÿã€çŠ¶æ€æ ã€é¢œè‰²
â”‚   â”œâ”€â”€ storage/               # ä¼šè¯/ä»»åŠ¡æŒä¹…åŒ–
â”‚   â”œâ”€â”€ usage/                 # Token è®¡é‡ä¸é¢„ç®—æ§åˆ¶
â”‚   â”œâ”€â”€ review/                # Diff å®¡æŸ¥å·¥ä½œæµ
â”‚   â”œâ”€â”€ rules/                 # è§„åˆ™æ–‡ä»¶åŠ è½½
â”‚   â”œâ”€â”€ knowledge/             # çŸ¥è¯†åº“
â”‚   â””â”€â”€ util/                  # é€šç”¨å·¥å…·å‡½æ•°ï¼ˆgit/markdown/...ï¼‰
â”œâ”€â”€ templates/                 # æ¨¡æ¿æ–‡ä»¶ï¼ˆä¸»é¢˜/å®šä»·/Hook ç¤ºä¾‹ï¼‰
â”œâ”€â”€ test/                      # å•å…ƒæµ‹è¯•ä¸ E2E æµ‹è¯•
â”œâ”€â”€ kkcode.config.yaml         # é¡¹ç›®é»˜è®¤é…ç½®
â”œâ”€â”€ package.json               # Node.js åŒ…å®šä¹‰
â”œâ”€â”€ LICENSE                    # GPL-3.0
â””â”€â”€ SECURITY.md                # å®‰å…¨æ”¿ç­–
```

---

## é…ç½®ç¤ºä¾‹

```yaml
provider:
  default: anthropic
  anthropic:
    type: anthropic
    base_url: https://api.anthropic.com/v1
    api_key_env: ANTHROPIC_API_KEY
    default_model: claude-sonnet-4-20250514
    thinking:
      type: enabled
      budget_tokens: 10000

agent:
  default_mode: agent
  max_steps: 8
  longagent:
    parallel:
      enabled: true
      max_concurrency: 3

permission:
  default_policy: ask

usage:
  budget:
    strategy: warn
```

å®Œæ•´é…ç½®å‚è€ƒè§ [NOTICE.md](NOTICE.md)ã€‚

---

## å¸¸è§é—®é¢˜

**Q: LongAgent ä¸ºä»€ä¹ˆæ‹’ç»"ä½ å¥½"ï¼Ÿ**
LongAgent æ˜¯æ‰§è¡Œå‹ç¼–æ’å™¨ï¼Œéç¼–ç ç›®æ ‡ä¼šè¢«æ„å›¾è¯†åˆ«æ‹¦æˆªã€‚

**Q: enter_plan å’Œ /plan æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**
`/plan` æ˜¯ç”¨æˆ·æ‰‹åŠ¨åˆ‡æ¢æ¨¡å¼ã€‚`enter_plan` æ˜¯ agent æ‰§è¡Œä¸­ä¸»åŠ¨è¿›å…¥è§„åˆ’ï¼Œå®¡æ‰¹é€šè¿‡åç»§ç»­æ‰§è¡Œã€‚

**Q: Auto Memory ä¼šæ— é™å¢é•¿å—ï¼Ÿ**
æ³¨å…¥ç³»ç»Ÿæç¤ºæ—¶é™åˆ¶ 200 è¡Œã€‚Agent ä¼šä¿æŒç²¾ç®€å¹¶åˆ é™¤è¿‡æ—¶æ¡ç›®ã€‚

**Q: å¤§æ–‡ä»¶åˆ›å»ºè¢«æˆªæ–­æ€ä¹ˆåŠï¼Ÿ**
ä½¿ç”¨ `write(mode="append")` åˆ†æ®µè¿½åŠ åˆ›å»ºï¼Œæˆ–ç”¨ `patch` æŒ‰è¡Œå·èŒƒå›´ä¿®æ”¹ã€‚

---

## è‡´è°¢

kkcode çš„è®¾è®¡å—åˆ°ä»¥ä¸‹é¡¹ç›®çš„å¯å‘ï¼š

- **[Claude Code](https://github.com/anthropics/claude-code)** â€” Anthropic å®˜æ–¹ AI Coding CLIã€‚å·¥å…·ä½“ç³»ã€å­æ™ºèƒ½ä½“æ¶æ„ã€æç¤ºè¯å·¥ç¨‹ç­‰æ ¸å¿ƒè®¾è®¡ä»¥æ­¤ä¸ºæ ‡æ†ã€‚
- **[OpenCode](https://github.com/nicepkg/opencode)** â€” å¼€æºç»ˆç«¯ AI Coding åŠ©æ‰‹ã€‚å¤š Provider æ”¯æŒã€ä¸»é¢˜ç³»ç»Ÿç­‰å€Ÿé‰´äº†å…¶è®¾è®¡ã€‚
- **[Everything Claude Code](https://github.com/affaan-m/everything-claude-code)** â€” Instinct è‡ªåŠ¨å­¦ä¹ ã€Hook Recipesã€TDD å·¥ä½œæµç­‰èƒ½åŠ›å—æ­¤å¯å‘ã€‚

---

## License

æœ¬é¡¹ç›®åŸºäº [GNU General Public License v3.0](LICENSE) å¼€æºã€‚

Copyright (C) 2026 kkcode team
